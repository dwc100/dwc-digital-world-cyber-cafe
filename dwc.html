<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Digital World Cyber Cafe</title>

<meta name="description" content="DWC - Digital World Cyber Cafe offers online form services, printing, digital solutions, and more.">

<link rel="icon" href="https://i.ibb.co/1gQKw6b/56.png">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
<link href="dwc.css" rel="stylesheet">
</head>
<body>
<div class="glow-frame"></div>

<!-- HEADER -->
<div class="header">
  <div class="header-inner">
    <div class="logo">
      <img src="https://i.ibb.co/1gQKw6b/56.png">
      <span>DIGITAL WORLD CYBER CAFE</span>
    </div>

    <div class="nav">
      <a href="about.html"><button>About</button></a>
      <a href="dwcalert.html" class="alert-btn" id="alertBtn">
  <span class="alert-icon" id="alertIcon">üü£</span>
  <span class="alert-text" id="alertText">Alert</span>
</a>

<style>
/* ===== ALERT BUTTON ADVANCED DESIGN ===== */
.alert-btn{
  display:flex;
  align-items:center;
  gap:10px;
  padding:14px 24px;
  border-radius:50px;
  background:linear-gradient(135deg,#1e0f3f,#4b0fa3);
  border:2px solid rgba(180,100,255,0.6);
  text-decoration:none;
  color:#fff;
  font-weight:700;
  font-size:16px;
  position:relative;
  transition:0.3s ease, box-shadow 0.3s ease;
  box-shadow:0 0 15px rgba(180,100,255,0.4);
}

/* Hover */
.alert-btn:hover{
  transform:scale(1.08);
  box-shadow:0 0 25px rgba(180,100,255,0.8);
}

/* ICON */
.alert-icon{
  font-size:20px;
  animation:blink 1.2s infinite;
  transition:0.3s ease;
}

/* NORMAL BLINK */
@keyframes blink{
  0%, 100%{opacity:1;}
  50%{opacity:0.2;}
}

/* SHAKE for danger */
@keyframes shake{
  0%{transform:translateX(0);}
  25%{transform:translateX(-3px);}
  50%{transform:translateX(3px);}
  75%{transform:translateX(-3px);}
  100%{transform:translateX(0);}
}

/* PULSE animation for icon in danger */
@keyframes pulse{
  0%{transform:scale(1);}
  50%{transform:scale(1.4);}
  100%{transform:scale(1);}
}

/* ===== STATUS STYLES ===== */
.alert-btn.status-danger{
  background:linear-gradient(135deg,#450a0a,#7f1d1d);
  border-color:#ff4d4d;
  box-shadow:0 0 25px rgba(255,77,77,0.8);
  animation:shake 0.5s infinite;
}

.alert-btn.status-good{
  background:linear-gradient(135deg,#0a3f45,#0fa37f);
  border-color:#22c55e;
  box-shadow:0 0 20px rgba(34,197,94,0.6);
}

.alert-btn.status-verygood{
  background:linear-gradient(135deg,#3f0a45,#a30fa3);
  border-color:#a855f7;
  box-shadow:0 0 20px rgba(168,85,247,0.7);
}

.alert-btn.status-green{
  background:linear-gradient(135deg,#0a3f0a,#0fa30f);
  border-color:#22c55e;
  box-shadow:0 0 25px rgba(34,197,94,0.9);
}

/* Icon pulse on special status */
.alert-btn.status-danger .alert-icon,
.alert-btn.status-good .alert-icon,
.alert-btn.status-verygood .alert-icon,
.alert-btn.status-green .alert-icon{
  animation:pulse 1s infinite;
}

/* MOBILE FRIENDLY */
@media(max-width:768px){
  .alert-btn{
    padding:16px 26px;
    font-size:17px;
  }
  .alert-icon{
    font-size:22px;
  }
}


</style>
<script>
/* ===== ALERT STATUS CONTROLLER ===== */
const alertBtn = document.getElementById("alertBtn");
const alertIcon = document.getElementById("alertIcon");
const alertText = document.getElementById("alertText");

/* ===== STATUS FUNCTION =====
   statusCode:
   "01" => Danger       üö®
   "02" => Good         üëç
   "03" => Very Good    üíú
   "04" => Green        üü¢
*/
function setAlertStatus(statusCode, message){
  // Remove all status classes
  alertBtn.classList.remove("status-danger","status-good","status-verygood","status-green");

  switch(statusCode){
    case "01": // Danger
      alertBtn.classList.add("status-danger");
      alertIcon.textContent = "üö®";
      alertText.textContent = message || "Danger Alert!";
      break;

    case "02": // Good
      alertBtn.classList.add("status-good");
      alertIcon.textContent = "üëç";
      alertText.textContent = message || "Good Alert";
      break;

    case "03": // Very Good
      alertBtn.classList.add("status-verygood");
      alertIcon.textContent = "üíú";
      alertText.textContent = message || "Very Good Alert";
      break;

    case "04": // Green
      alertBtn.classList.add("status-green");
      alertIcon.textContent = "üü¢";
      alertText.textContent = message || "All Clear";
      break;

    default: // Normal
      alertIcon.textContent = "üü£";
      alertText.textContent = "Alert";
  }
}

/* ===== DEMO ===== */
setAlertStatus("04","‚ö† Server & Alert"); // Danger example
// setAlertStatus("02","Good Status Active");
// setAlertStatus("03","Very Good Condition");
// setAlertStatus("04","System All Clear");
</script>


      <a href="adminacess.html"><button>Admin</button></a>

      <div id="login-btn-container">
        <button id="login-btn">Login</button>
        <div id="login-form">
          <input type="email" placeholder="Email">
          <input type="password" placeholder="Password">
          <button>Login</button>
          <button class="google-btn">Login with Google</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- SEARCH -->
<div class="search-area">
  <div class="search-box">
    <img src="https://i.ibb.co/1gQKw6b/56.png">
    <input id="mySearch" placeholder="Search services & learning items..." onkeyup="showSuggestions()">
    <button onclick="doSearch()"><i class="fa fa-search"></i></button>
  </div>
</div>

<div id="suggestionBox"></div>

<!-- QUICK BUTTONS -->
<div class="quick-buttons">
  <a href="dwclearningarea.html"><button><i class="fa fa-book"></i>DWC Learning</button></a>
  <a href="dwccyberlearning.html"><button><i class="fa fa-shield"></i>Cyber Learning</button></a>
  <a href="dwcsoftwares.html"><button><i class="fa fa-desktop"></i>Softwares</button></a>
</div>
<script src="./dwc.js"></script>

<script type="module">
/* ===================== BASIC ELEMENTS ===================== */
const mySearch = document.getElementById("mySearch");
const suggestionBox = document.getElementById("suggestionBox");
const loginBtn = document.getElementById("login-btn");
const loginForm = document.getElementById("login-form");

/* ===================== LOGIN TOGGLE ===================== */
loginBtn.addEventListener("click", () => {
  loginForm.style.display =
    loginForm.style.display === "block" ? "none" : "block";
});

/* ===================== SEARCH DATA ===================== */
const defaultSuggestions = [
  "Class 9th Notes", "Class 9th Chapter 01", "Class 9th Chapter 02",
  "Class 9th Chapter 03", "Class 9th Chapter 04", "Class 9th Chapter 05",
  "Class 9th Math Notes", "Class 9th Science Notes",
  "Class 9th English Notes", "Class 10th Notes",
  "Online Forms", "Print Service"
];

/* ===================== LOCAL STORAGE ===================== */
function getStoredSuggestions() {
  const stored = JSON.parse(localStorage.getItem("userSearches") || "[]");
  return [...new Set([...defaultSuggestions, ...stored])];
}

function storeSearch(query) {
  if (!query) return;
  let searches = JSON.parse(localStorage.getItem("userSearches") || "[]");
  if (!searches.includes(query)) {
    searches.push(query);
    localStorage.setItem("userSearches", JSON.stringify(searches));
  }
}

/* ===================== SUGGESTIONS ===================== */
window.showSuggestions = function () {
  const input = mySearch.value.toLowerCase();
  suggestionBox.innerHTML = "";
  suggestionBox.style.display = "none";

  if (!input) return;

  const filtered = getStoredSuggestions().filter(item =>
    item.toLowerCase().includes(input)
  );

  filtered.forEach(item => {
    const div = document.createElement("div");
    div.innerText = item;
    div.onclick = () => {
      mySearch.value = item;
      storeSearch(item);
      doSearch();
    };
    suggestionBox.appendChild(div);
  });

  if (filtered.length) suggestionBox.style.display = "block";
};

/* ===================== SEARCH ===================== */
function doSearch() {
  const query = mySearch.value.trim();
  if (query !== "") {
    storeSearch(query);
    window.location.href =
      "dwcsearchresult.html?q=" + encodeURIComponent(query);
  }
}

mySearch.addEventListener("keydown", e => {
  if (e.key === "Enter") {
    e.preventDefault();
    doSearch();
  }
});

/* ===================== TOUR INFO BOX ===================== */
const tourSteps = [
  { element: '#login-btn', text: 'Login here to access your account.' },
  { element: '.search-box', text: 'Search DWC services here.' },
  { element: '.quick-buttons', text: 'Quick access buttons.' }
];

const infoBox = document.getElementById("info-box");
let stepIndex = 0;

function showStep(index) {
  if (!infoBox) return;
  const step = tourSteps[index];
  const el = document.querySelector(step.element);
  if (!el) return;

  const rect = el.getBoundingClientRect();
  infoBox.textContent = step.text;

  infoBox.style.left =
    rect.left + rect.width / 2 - 125 + "px";
  infoBox.style.top =
    rect.top - 60 + "px";

  infoBox.classList.add("active");

  setTimeout(() => {
    infoBox.classList.remove("active");
    if (stepIndex < tourSteps.length - 1) {
      stepIndex++;
      showStep(stepIndex);
    }
  }, 2500);
}

window.addEventListener("load", () => {
  if (infoBox) showStep(stepIndex);
});

/* ===================== FIREBASE ===================== */
import { initializeApp } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
  getAuth,
  signInWithEmailAndPassword,
  GoogleAuthProvider,
  signInWithPopup
} from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyBHnpCgh9RFyVrZLxMeYMv2SkokolLI2Vs",
  authDomain: "use-data-7f613.firebaseapp.com",
  projectId: "use-data-7f613",
  storageBucket: "use-data-7f613.firebasestorage.app",
  messagingSenderId: "34772531349",
  appId: "1:34772531349:web:cb1bb06151fcc0e66a039c"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

/* EMAIL LOGIN */
document.querySelector("#login-form button:nth-of-type(1)")
?.addEventListener("click", () => {
  const email = loginForm.querySelector("input[type='email']").value;
  const password = loginForm.querySelector("input[type='password']").value;

  signInWithEmailAndPassword(auth, email, password)
    .then(() => {
      alert("Login Successful");
      window.location.href = "userloginpage.html";
    })
    .catch(err => alert(err.message));
});

/* GOOGLE LOGIN */
document.querySelector(".google-btn")
?.addEventListener("click", () => {
  signInWithPopup(auth, provider)
    .then(() => {
      alert("Google Login Successful");
      window.location.href = "userloginpage.html";
    })
    .catch(err => alert(err.message));
});
</script>

</body>
</html>
